"use strict";(self["webpackChunkIDNCreaterPages"]=self["webpackChunkIDNCreaterPages"]||[]).push([[809],{6367:function(r,e,s){s.r(e),s.d(e,{default:function(){return T}});var i=s(3396),t=s(9242),a=s(7139);const o={class:"container"},l={key:0},n=(0,i._)("h2",null,"登录",-1),m=(0,i._)("label",{for:"email"},"邮箱地址",-1),d={key:0,class:"error"},u=(0,i._)("label",{for:"password"},"密码",-1),g={key:0,class:"error"},h=(0,i._)("button",{type:"submit"},"登录",-1),w={key:1},p=(0,i._)("h2",null,"注册",-1),E=(0,i._)("label",{for:"registerEmail"},"邮箱地址",-1),c={key:0,class:"error"},_=(0,i._)("label",{for:"registerPassword"},"密码",-1),y={key:0,class:"error"},f=(0,i._)("label",{for:"username"},"昵称",-1),k={key:0,class:"error"},v=(0,i._)("button",{type:"submit"},"注册",-1);function b(r,e,s,b,P,z){return(0,i.wg)(),(0,i.iD)("div",o,[P.isLoginForm?((0,i.wg)(),(0,i.iD)("div",l,[n,(0,i._)("form",{onSubmit:e[2]||(e[2]=(0,t.iM)(((...r)=>z.submitLoginForm&&z.submitLoginForm(...r)),["prevent"]))},[(0,i._)("div",null,[m,(0,i.wy)((0,i._)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=r=>P.email=r),placeholder:"请输入邮箱",required:"",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"},null,512),[[t.nr,P.email]]),P.emailError?((0,i.wg)(),(0,i.iD)("span",d,(0,a.zw)(P.emailError),1)):(0,i.kq)("",!0)]),(0,i._)("div",null,[u,(0,i.wy)((0,i._)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=r=>P.password=r),placeholder:"请输入密码",required:"",minlength:"6"},null,512),[[t.nr,P.password]]),P.passwordError?((0,i.wg)(),(0,i.iD)("span",g,(0,a.zw)(P.passwordError),1)):(0,i.kq)("",!0)]),h],32),(0,i._)("p",null,[(0,i.Uk)(" 没有账户？ "),(0,i._)("a",{href:"#",onClick:e[3]||(e[3]=(0,t.iM)(((...r)=>z.switchToRegister&&z.switchToRegister(...r)),["prevent"]))},"注册")])])):((0,i.wg)(),(0,i.iD)("div",w,[p,(0,i._)("form",{onSubmit:e[7]||(e[7]=(0,t.iM)(((...r)=>z.submitRegisterForm&&z.submitRegisterForm(...r)),["prevent"]))},[(0,i._)("div",null,[E,(0,i.wy)((0,i._)("input",{type:"email",id:"registerEmail","onUpdate:modelValue":e[4]||(e[4]=r=>P.registerEmail=r),placeholder:"请输入邮箱",required:"",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"},null,512),[[t.nr,P.registerEmail]]),P.registerEmailError?((0,i.wg)(),(0,i.iD)("span",c,(0,a.zw)(P.registerEmailError),1)):(0,i.kq)("",!0)]),(0,i._)("div",null,[_,(0,i.wy)((0,i._)("input",{type:"password",id:"registerPassword","onUpdate:modelValue":e[5]||(e[5]=r=>P.registerPassword=r),placeholder:"请输入密码",required:"",minlength:"6"},null,512),[[t.nr,P.registerPassword]]),P.registerPasswordError?((0,i.wg)(),(0,i.iD)("span",y,(0,a.zw)(P.registerPasswordError),1)):(0,i.kq)("",!0)]),(0,i._)("div",null,[f,(0,i.wy)((0,i._)("input",{type:"text",id:"username","onUpdate:modelValue":e[6]||(e[6]=r=>P.username=r),placeholder:"请输入昵称",required:""},null,512),[[t.nr,P.username]]),P.usernameError?((0,i.wg)(),(0,i.iD)("span",k,(0,a.zw)(P.usernameError),1)):(0,i.kq)("",!0)]),v],32),(0,i._)("p",null,[(0,i.Uk)(" 已有账户？ "),(0,i._)("a",{href:"#",onClick:e[8]||(e[8]=(0,t.iM)(((...r)=>z.switchToLogin&&z.switchToLogin(...r)),["prevent"]))},"登录")])]))])}s(7658);const P=[{email:"test@example.com",password:"password123",username:"TestUser"}],z=async(r,e)=>new Promise(((s,i)=>{setTimeout((()=>{const t=P.find((s=>s.email===r&&s.password===e));t?s({authenticated:!0,email:t.email}):i({error:"Invalid email or password"})}),1e3)})),L=async(r,e,s)=>new Promise(((i,t)=>{setTimeout((()=>{const a=P.find((e=>e.email===r));if(a)t({error:"Email already exists"});else{const t={email:r,password:e,username:s};P.push(t),i({success:!0,email:t.email,username:t.username})}}),1e3)}));var q={data(){return{isLoginForm:!0,email:"",password:"",emailError:"",passwordError:"",loginError:"",registerEmail:"",registerPassword:"",username:"",registerEmailError:"",registerPasswordError:"",usernameError:"",registerError:""}},methods:{switchToLogin(){this.isLoginForm=!0},switchToRegister(){this.isLoginForm=!1},async submitLoginForm(){if(this.validateLoginInputs())try{const r=await z(this.email,this.password);r.authenticated&&(console.log("用户验证成功，邮箱地址：",r.email),this.$router.push("/"))}catch(r){this.loginError=r.error}},validateLoginInputs(){return this.emailError="",this.passwordError="",this.email?/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(this.email)||(this.emailError="邮箱格式不正确"):this.emailError="邮箱地址不能为空",this.password?this.password.length<6&&(this.passwordError="密码长度不能少于6个字符"):this.passwordError="密码不能为空",!this.emailError&&!this.passwordError},validateRegisterInputs(){return this.registerEmailError="",this.registerPasswordError="",this.usernameError="",this.registerEmail?/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(this.registerEmail)||(this.registerEmailError="邮箱格式不正确"):this.registerEmailError="邮箱地址不能为空",this.registerPassword?this.registerPassword.length<6&&(this.registerPasswordError="密码长度不能少于6个字符"):this.registerPasswordError="密码不能为空",this.username||(this.usernameError="昵称不能为空"),!this.registerEmailError&&!this.registerPasswordError&&!this.usernameError},async submitRegisterForm(){if(this.validateRegisterInputs())try{const r=await L(this.registerEmail,this.registerPassword,this.username);r.success&&(console.log("注册成功，邮箱地址：",r.email,"昵称：",r.username),this.switchToLogin())}catch(r){this.registerError=r.error}}}},D=s(89);const F=(0,D.Z)(q,[["render",b]]);var T=F}}]);
//# sourceMappingURL=account.c352a347.js.map