{"version":3,"file":"js/account.c352a347.js","mappings":"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","sources":["webpack://IDNCreaterPages/./src/views/AccountView.vue","webpack://IDNCreaterPages/./src/account.js","webpack://IDNCreaterPages/./src/views/AccountView.vue?adce"],"sourcesContent":["<template>\n    <div class=\"container\">\n        <div v-if=\"isLoginForm\">\n            <h2>登录</h2>\n            <form @submit.prevent=\"submitLoginForm\">\n                <div>\n                    <label for=\"email\">邮箱地址</label>\n                    <input type=\"email\" id=\"email\" v-model=\"email\" placeholder=\"请输入邮箱\" required\n                        pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" />\n                    <span v-if=\"emailError\" class=\"error\">{{ emailError }}</span>\n                </div>\n                <div>\n                    <label for=\"password\">密码</label>\n                    <input type=\"password\" id=\"password\" v-model=\"password\" placeholder=\"请输入密码\" required minlength=\"6\" />\n                    <span v-if=\"passwordError\" class=\"error\">{{ passwordError }}</span>\n                </div>\n                <button type=\"submit\">登录</button>\n            </form>\n            <p>\n                没有账户？ <a href=\"#\" @click.prevent=\"switchToRegister\">注册</a>\n            </p>\n        </div>\n        <div v-else>\n            <h2>注册</h2>\n            <form @submit.prevent=\"submitRegisterForm\">\n                <div>\n                    <label for=\"registerEmail\">邮箱地址</label>\n                    <input type=\"email\" id=\"registerEmail\" v-model=\"registerEmail\" placeholder=\"请输入邮箱\" required\n                        pattern=\"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" />\n                    <span v-if=\"registerEmailError\" class=\"error\">{{ registerEmailError }}</span>\n                </div>\n                <div>\n                    <label for=\"registerPassword\">密码</label>\n                    <input type=\"password\" id=\"registerPassword\" v-model=\"registerPassword\" placeholder=\"请输入密码\" required\n                        minlength=\"6\" />\n                    <span v-if=\"registerPasswordError\" class=\"error\">{{ registerPasswordError }}</span>\n                </div>\n                <div>\n                    <label for=\"username\">昵称</label>\n                    <input type=\"text\" id=\"username\" v-model=\"username\" placeholder=\"请输入昵称\" required />\n                    <span v-if=\"usernameError\" class=\"error\">{{ usernameError }}</span>\n                </div>\n                <button type=\"submit\">注册</button>\n            </form>\n            <p>\n                已有账户？ <a href=\"#\" @click.prevent=\"switchToLogin\">登录</a>\n            </p>\n        </div>\n    </div>\n</template>\n  \n<script>\nimport { authenticateUser, registerUser } from \"../account.js\";\n\nexport default {\n    data() {\n        return {\n            isLoginForm: true,\n            email: \"\",\n            password: \"\",\n            emailError: \"\",\n            passwordError: \"\",\n            loginError: \"\",\n            registerEmail: \"\",\n            registerPassword: \"\",\n            username: \"\",\n            registerEmailError: \"\",\n            registerPasswordError: \"\",\n            usernameError: \"\",\n            registerError: \"\",\n        };\n    },\n    methods: {\n        switchToLogin() {\n            this.isLoginForm = true;\n        },\n        switchToRegister() {\n            this.isLoginForm = false;\n        },\n        async submitLoginForm() {\n            if (!this.validateLoginInputs()) {\n                return;\n            }\n            try {\n                const response = await authenticateUser(this.email, this.password);\n                if (response.authenticated) {\n                    // 用户验证成功，进行后续操作，如跳转到主页\n                    console.log(\"用户验证成功，邮箱地址：\", response.email);\n                    // 使用Vue Router进行页面跳转，这里假设跳转到名为Home的组件\n                    this.$router.push('/');\n                }\n            } catch (error) {\n                // 显示错误信息\n                this.loginError = error.error;\n            }\n        },\n        validateLoginInputs() {\n            this.emailError = \"\";\n            this.passwordError = \"\";\n\n            if (!this.email) {\n                this.emailError = \"邮箱地址不能为空\";\n            } else if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(this.email)) {\n                this.emailError = \"邮箱格式不正确\";\n            }\n\n            if (!this.password) {\n                this.passwordError = \"密码不能为空\";\n            } else if (this.password.length < 6) {\n                this.passwordError = \"密码长度不能少于6个字符\";\n            }\n\n            return !this.emailError && !this.passwordError;\n        },\n\n        \n        validateRegisterInputs() {\n            this.registerEmailError = \"\";\n            this.registerPasswordError = \"\";\n            this.usernameError = \"\";\n            if (!this.registerEmail) {\n                this.registerEmailError = \"邮箱地址不能为空\";\n            } else if (!/^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$/.test(this.registerEmail)) {\n                this.registerEmailError = \"邮箱格式不正确\";\n            }\n\n            if (!this.registerPassword) {\n                this.registerPasswordError = \"密码不能为空\";\n            } else if (this.registerPassword.length < 6) {\n                this.registerPasswordError = \"密码长度不能少于6个字符\";\n            }\n\n            if (!this.username) {\n                this.usernameError = \"昵称不能为空\";\n            }\n\n            return !this.registerEmailError && !this.registerPasswordError && !this.usernameError;\n        },\n\n        async submitRegisterForm() {\n            if (!this.validateRegisterInputs()) {\n                return;\n            }\n\n            try {\n                const response = await registerUser(this.registerEmail, this.registerPassword, this.username);\n                if (response.success) {\n                    // 注册成功，可以提示用户并跳转到登录页面或主页\n                    console.log(\"注册成功，邮箱地址：\", response.email, \"昵称：\", response.username);\n                    this.switchToLogin();\n                }\n            } catch (error) {\n                // 显示错误信息\n                this.registerError = error.error;\n            }\n        },\n    },\n};\n</script>\n<style>\n.error {\n    color: red;\n}\n</style>","const mockUsers = [\n  {\n    email: \"test@example.com\",\n    password: \"password123\",\n    username: \"TestUser\",\n  },\n];\n\nexport const authenticateUser = async (email, password) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const user = mockUsers.find(\n        (user) => user.email === email && user.password === password\n      );\n      if (user) {\n        resolve({ authenticated: true, email: user.email });\n      } else {\n        reject({ error: \"Invalid email or password\" });\n      }\n    }, 1000);\n  });\n};\n\nexport const registerUser = async (email, password, username) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const existingUser = mockUsers.find((user) => user.email === email);\n      if (existingUser) {\n        reject({ error: \"Email already exists\" });\n      } else {\n        const newUser = { email, password, username };\n        mockUsers.push(newUser);\n        resolve({ success: true, email: newUser.email, username: newUser.username });\n      }\n    }, 1000);\n  });\n};\n","import { render } from \"./AccountView.vue?vue&type=template&id=2c1803c0\"\nimport script from \"./AccountView.vue?vue&type=script&lang=js\"\nexport * from \"./AccountView.vue?vue&type=script&lang=js\"\n\nimport \"./AccountView.vue?vue&type=style&index=0&id=2c1803c0&lang=css\"\n\nimport exportComponent from \"/Users/tggs636/Desktop/IDNCreater/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","$data","_hoisted_3","onSubmit","$options","_hoisted_4","id","placeholder","required","pattern","_hoisted_5","_hoisted_6","minlength","_hoisted_7","_hoisted_8","href","onClick","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","mockUsers","email","password","username","authenticateUser","async","Promise","resolve","reject","setTimeout","user","find","authenticated","error","registerUser","existingUser","newUser","push","success","data","isLoginForm","emailError","passwordError","loginError","registerEmail","registerPassword","registerEmailError","registerPasswordError","usernameError","registerError","methods","switchToLogin","this","switchToRegister","validateLoginInputs","response","console","log","$router","test","length","validateRegisterInputs","__exports__","render"],"sourceRoot":""}